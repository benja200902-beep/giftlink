<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tebex Checkout - Hypixel</title>
    <link rel="icon" type="image/png" href="https://www.tebex.io/favicon.png">

    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700;900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@latest/css/materialdesignicons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify@3.4.0/dist/vuetify.min.css" rel="stylesheet">

    <style>
        :root {
            --primary-color: #41C4C3;
            --primary-hover: #35A8A7;
            --bg-sidebar: #FAFAFA;
            --bg-main: #FFFFFF;
            --text-color: #333333;
            --text-muted: #616161;
            --border-color: #E6E6E6;
            --input-bg: #FAFAFA;
            --input-border: #DDDDDD;
            --btn-gray: #E5E5E5;
            --btn-gray-hover: #D8D8D8;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Lato', sans-serif !important;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            color: var(--text-color);
            background-color: var(--bg-main);
        }

        #app {
            min-height: 100vh;
            width: 100vw;
        }

        .split-layout {
            display: flex;
            height: 100vh;
            width: 100%;
        }

        .sidebar-panel {
            width: 50.2%;
            background-color: var(--bg-sidebar);
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            padding-top: 40px;
            padding-bottom: 60px;
        }

        .main-panel {
            flex: 1;
            background-color: var(--bg-main);
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            padding-top: 40px;
            padding-bottom: 60px;
        }

        .content-container {
            width: 100%;
            max-width: 520px;
            padding: 0 40px;
            box-sizing: border-box;
        }

        .mobile-header {
            display: none;
        }

        @media (max-width: 960px) {
            .split-layout {
                flex-direction: column;
                height: auto;
                overflow-y: visible;
            }

            .sidebar-panel {
                display: none !important;
            }

            .main-panel {
                width: 100%;
                height: auto;
                align-items: center;
                overflow: visible;
                padding-top: 0;
                padding-bottom: 0;
            }

            .content-container {
                padding: 20px;
                max-width: 100%;
            }

            .mobile-header {
                display: block;
                width: 100%;
                background: var(--bg-sidebar);
                border-bottom: 1px solid var(--border-color);
            }

            .mobile-logo-area {
                padding: 24px;
                text-align: center;
                background: #fff;
                border-bottom: 1px solid var(--border-color);
            }

            .mobile-accordion-toggle {
                padding: 18px 20px;
                display: flex;
                justify-content: space-between;
                align-items: center;
                background: #FAFAFA;
                cursor: pointer;
                user-select: none;
                transition: background-color 0.3s ease;
            }

            .mobile-accordion-toggle:hover {
                background: #F5F5F5;
            }

            .mobile-summary-content {
                background: #FAFAFA;
                border-bottom: 1px solid var(--border-color);
            }
        }

        .v-btn {
            text-transform: none !important;
            letter-spacing: normal !important;
            font-weight: 700 !important;
            box-shadow: none !important;
            border-radius: 0 !important;
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1) !important;
        }

        .btn-locked-gray {
            background-color: #E5E5E5 !important;
            color: #000 !important;
            font-weight: 600 !important;
            font-size: 0.875rem !important;
            cursor: pointer !important;
        }

        .btn-locked-gray:hover {
            background-color: #D8D8D8 !important;
        }

        .tebex-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--text-color);
        }

        .v-field--disabled {
            opacity: 1 !important;
            pointer-events: none;
        }

        .v-field--disabled input {
            color: #999 !important;
        }

        input[type="checkbox"] {
            appearance: none;
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border: 1px solid #DDDDDD;
            border-radius: 2px;
            background-color: #fff;
            cursor: pointer;
            position: relative;
            margin-top: 3px;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        input[type="checkbox"]:checked {
            background-color: #41C4C3;
            border-color: #41C4C3;
        }

        input[type="checkbox"]:checked::after {
            content: '';
            width: 5px;
            height: 10px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
            margin-bottom: 2px;
        }

        .breadcrumbs {
            display: flex;
            align-items: center;
            font-size: 0.75rem;
            margin-bottom: 24px;
            color: #41C4C3;
            font-weight: 400;
        }

        .breadcrumb-item {
            color: #41C4C3;
            cursor: pointer;
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .breadcrumb-item:hover {
            color: #35A8A7;
        }

        .breadcrumb-muted {
            color: #999999;
            cursor: default;
        }

        .breadcrumb-separator {
            margin: 0 8px;
            color: #CCCCCC;
        }

        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 28px;
        }

        .order-header span {
            font-size: 1rem;
            font-weight: 400;
            color: var(--text-color);
        }

        .cancel-link {
            color: var(--text-color);
            text-decoration: underline;
            font-size: 0.875rem;
            font-weight: 400;
            cursor: pointer;
        }

        .cancel-link:hover {
            color: #000;
        }

        .basket-item {
            display: flex;
            align-items: center;
            margin-bottom: 32px;
        }

        .basket-item-image {
            width: 68px;
            height: 68px;
            border: 1px solid #EBEBEB;
            border-radius: 4px;
            padding: 8px;
            background: #fff;
            margin-right: 18px;
            flex-shrink: 0;
            position: relative;
            transition: all 0.3s ease;
        }

        .basket-item-image:hover {
            transform: scale(1.08);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .basket-item-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .gift-badge {
            position: absolute;
            top: -4px;
            right: -4px;
            background: #41C4C3;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .basket-item-info {
            flex: 1;
        }

        .basket-item-name {
            font-weight: 700;
            font-size: 1.05rem;
            color: #333;
            margin-bottom: 5px;
        }

        .basket-item-price {
            font-size: 0.875rem;
            color: #41C4C3;
        }

        .input-section {
            margin-bottom: 32px;
        }

        .price-summary {
            padding-bottom: 24px;
        }

        .price-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 16px;
            font-size: 0.875rem;
            font-weight: 700;
            color: #333;
        }

        .price-divider {
            height: 1px;
            background: #E0E0E0;
            margin-bottom: 16px;
        }

        .total-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .total-label,
        .total-value {
            font-weight: 700;
            font-size: 1.25rem;
            color: #333;
        }

        .form-row {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
        }

        .form-row>div {
            flex: 1;
        }

        .checkbox-row {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 16px;
            font-size: 0.813rem;
            color: #666;
            line-height: 1.5;
        }

        .checkbox-row a {
            color: #41C4C3;
            text-decoration: underline;
        }

        .pay-btn {
            background-color: #41C4C3 !important;
            color: #000 !important;
            font-size: 0.938rem !important;
            font-weight: 700 !important;
            width: 100%;
        }

        .pay-btn:hover {
            background-color: #35A8A7 !important;
        }

        .continue-btn {
            background-color: #26C6DA !important;
            color: #000 !important;
            font-size: 0.938rem !important;
            font-weight: 700 !important;
        }

        .continue-btn:hover {
            background-color: #1FB5C8 !important;
        }

        .section-title {
            font-size: 0.875rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 12px;
        }

        .page-title {
            font-size: 1.375rem !important;
            color: #333;
            font-weight: 700 !important;
        }

        .error-msg {
            color: #e53935;
            font-size: 0.813rem;
            margin-top: 6px;
        }

        .error-border .v-field__outline__start,
        .error-border .v-field__outline__end,
        .error-border .v-field__outline__notch {
            border-color: #e53935 !important;
        }

        .rotate-icon {
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .rotate-180 {
            transform: rotate(180deg);
        }

        .upsell-card {
            border: 1px solid #E6E6E6;
            background-color: #FAFAFA;
            border-radius: 0;
            padding: 14px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
            transition: all 0.2s ease;
        }

        .upsell-card:hover {
            border-color: #D5D5D5;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
        }

        .global-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #FFFFFF;
            border-top: 1px solid #E6E6E6;
            padding: 12px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 0.75rem;
            color: #999;
            z-index: 100;
        }

        .global-footer-left {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .global-footer-logo {
            display: flex;
            align-items: center;
            gap: 6px;
            font-weight: 700;
            font-size: 0.875rem;
            color: #333;
        }

        .global-footer-logo svg {
            width: 16px;
            height: 16px;
        }

        .global-footer-text {
            color: #999;
        }

        .global-footer-text a {
            color: #41C4C3;
            text-decoration: underline;
        }

        .global-footer-links {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .global-footer-links a {
            color: #999;
            text-decoration: underline;
        }

        .footer-mobile {
            margin-top: 72px;
            margin-bottom: 32px;
            font-size: 0.75rem;
            color: #999;
        }

        .footer-mobile-brand {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }

        .footer-mobile-brand span {
            font-weight: 700;
            font-size: 1.1rem;
        }

        .footer-mobile-links {
            display: flex;
            flex-wrap: wrap;
            gap: 18px;
        }

        .footer-mobile-links a {
            color: inherit;
            text-decoration: underline;
        }

        @media (max-width: 960px) {
            .global-footer {
                display: none;
            }
        }

        .sidebar-panel,
        .main-panel {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .sidebar-panel::-webkit-scrollbar,
        .main-panel::-webkit-scrollbar {
            display: none;
        }

        .logo-img {
            transition: transform 0.3s ease;
        }

        .logo-img:hover {
            transform: scale(1.05);
        }

        .skeleton-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #fff;
            z-index: 9999;
            display: flex;
        }

        .skeleton-sidebar-panel {
            width: 50.2%;
            background: #FAFAFA;
            border-right: 1px solid #E6E6E6;
            padding: 40px;
            display: flex;
            justify-content: flex-end;
        }

        .skeleton-main-panel {
            flex: 1;
            padding: 40px;
            display: flex;
            justify-content: flex-start;
        }

        .skeleton-content-box {
            width: 100%;
            max-width: 520px;
        }

        .skeleton-box {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: skeleton-shimmer 1.5s ease-in-out infinite;
            border-radius: 4px;
        }

        @keyframes skeleton-shimmer {
            0% {
                background-position: 200% 0;
            }
            100% {
                background-position: -200% 0;
            }
        }

        .skeleton-upsell-card {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 14px 16px;
            border: 1px solid #E6E6E6;
            background: #FAFAFA;
        }

        @media (max-width: 960px) {
            .skeleton-sidebar-panel {
                display: none;
            }

            .skeleton-main-panel {
                width: 100%;
                padding: 24px;
            }

            .skeleton-content-box {
                max-width: 100%;
            }
        }

        body, html, .container, * {
          -webkit-user-select: none !important;
          -moz-user-select: none !important;
          -ms-user-select: none !important;
          user-select: none !important;
        }
        input, textarea {
          -webkit-user-select: text !important;
          -moz-user-select: text !important;
          -ms-user-select: text !important;
          user-select: text !important;
        }
    </style>
</head>

<body>
    <div id="app"></div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vuetify@3.4.0/dist/vuetify.min.js"></script>

    <script>
        const { createApp, ref, onMounted } = Vue;
        const { createVuetify } = Vuetify;

        const OrderSummaryContent = {
            props: ['product'],
            template: `
                <div class="h-100 d-flex flex-column">
                    <div class="d-none d-md-block mb-6">
                        <img src="https://dunb17ur4ymx4.cloudfront.net/webstore/logos/6c9b0cbd5c2f0ceef98f01068102b0d056c04b7b.png" 
                             alt="Hypixel" 
                             class="logo-img" 
                             style="height: 50px; display: block;">
                    </div>

                    <div class="order-header">
                        <span>Gift Link Redemption</span>
                        <a href="#" class="cancel-link">Cancel</a>
                    </div>

                    <div class="basket-item">
                        <div class="basket-item-image">
                            <img :src="product?.image || 'https://dunb17ur4ymx4.cloudfront.net/packages/images/c6e8cde2a5a147fd6d6e9b7506a62fab195e09e0.png'" 
                                 :alt="product?.name || '1,000 Gold'">
                            <div class="gift-badge">
                                <svg width="10" height="10" viewBox="0 0 24 24" fill="white">
                                    <path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="basket-item-info">
                            <div class="basket-item-name">{{ product?.name || '1,000 Gold' }}</div>
                            <div class="basket-item-price">Gift - Free</div>
                        </div>
                    </div>

                    <div class="input-section">
                        <label class="tebex-label">Creator Code</label>
                        <v-text-field 
                            placeholder="000-000-000" 
                            variant="outlined" 
                            density="compact" 
                            bg-color="#FAFAFA" 
                            hide-details 
                            disabled 
                            class="mb-5">
                        </v-text-field>
                        
                        <label class="tebex-label">Coupon/Gift Card</label>
                        <v-text-field 
                            placeholder="000-000-000" 
                            variant="outlined" 
                            density="compact" 
                            bg-color="#FAFAFA" 
                            hide-details 
                            disabled>
                        </v-text-field>
                    </div>

                    <div class="price-summary">
                        <div class="price-row">
                            <span>Subtotal:</span>
                            <span><s style="color:#999;">{{ product ? '$' + product.price + ' USD' : '$10.00 USD' }}</s></span>
                        </div>
                        <div class="price-row" style="color: #41C4C3;">
                            <span>Gift Link Applied:</span>
                            <span>-{{ product ? '$' + product.price + ' USD' : '$10.00 USD' }}</span>
                        </div>
                        <div class="price-divider"></div>
                        <div class="total-row">
                            <span class="total-label">Total Price:</span>
                            <span class="total-value">$0.00 USD</span>
                        </div>
                    </div>
                </div>
            `
        };

        const getProductFromUrl = (upsells, defaultProduct) => {
            const params = new URLSearchParams(window.location.search);
            const productId = params.get('product');
            const customPrice = params.get('price');
            let product;
            if (productId) {
                const found = upsells.find(u => String(u.id) === String(productId));
                if (found) {
                    product = {
                        name: found.name,
                        price: found.price.replace(' USD',''),
                        image: found.img
                    };
                }
            }
            if (!product) product = { ...defaultProduct };
            if (customPrice && !isNaN(Number(customPrice))) {
                product.price = String(Number(customPrice));
            }
            return product;
        };

        const App = {
            components: { OrderSummaryContent },
            setup() {
                const currentPage = ref('upsells'); // 'upsells' or 'confirm'
                const mobileSummaryOpen = ref(false);
                const email = ref('');
                const fullName = ref('');
                const postalCode = ref('');
                const allowUpdates = ref(false);
                const agreeTerms = ref(false);
                const showErrors = ref(false);
                const isPageLoading = ref(true);
                const globalError = ref('');
                const showGiftModal = ref(false);
                
                const upsells = [
                    {
                        id: 1,
                        name: "16,400 SkyBlock Gems",
                        price: "99.99 USD",
                        img: "https://dunb17ur4ymx4.cloudfront.net/packages/images/f7c6103a133d1fd12fe4ade63694556d35c52055.png"
                    },
                    {
                        id: 2,
                        name: "3,600 SkyBlock Gems",
                        price: "24.99 USD",
                        img: "https://dunb17ur4ymx4.cloudfront.net/packages/images/595f2e53789958dbf6d88e816ae9d94df62a640b.png"
                    },
                    {
                        id: 3,
                        name: "11,000 Gold",
                        price: "100.00 USD",
                        img: "https://dunb17ur4ymx4.cloudfront.net/packages/images/1ba5948d998c8120b97e3631568096f871f09e7d.png"
                    }
                ];
                const defaultProduct = {
                    name: '1,000 Gold',
                    price: '9.99',
                    image: 'https://dunb17ur4ymx4.cloudfront.net/packages/images/c6e8cde2a5a147fd6d6e9b7506a62fab195e09e0.png'
                };
                const product = ref(getProductFromUrl(upsells, defaultProduct));

                onMounted(() => {
                    setTimeout(() => {
                        isPageLoading.value = false;
                    }, 1200);
                });

                const isValidEmail = (email) => {
                    return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
                };

                const toggleMobileSummary = () => {
                    mobileSummaryOpen.value = !mobileSummaryOpen.value;
                };

                const showGiftNotice = () => {
                    showGiftModal.value = true;
                };

                const closeGiftModal = () => {
                    showGiftModal.value = false;
                };

                const applyGift = () => {
                    isPageLoading.value = true;
                    setTimeout(() => {
                        isPageLoading.value = false;
                        currentPage.value = 'confirm';
                    }, 800);
                };

                const validate = () => {
                    showErrors.value = true;
                    globalError.value = '';

                    if (!email.value || !isValidEmail(email.value)) return false;
                    if (!fullName.value || fullName.value.length < 2) return false;
                    if (!agreeTerms.value) return false;

                    isPageLoading.value = true;
                    
                    setTimeout(() => {
                        isPageLoading.value = false;
                        alert('Gift redemption completed successfully!');
                    }, 2000);

                    return true;
                };

                return {
                    currentPage,
                    mobileSummaryOpen,
                    toggleMobileSummary,
                    email,
                    fullName,
                    postalCode,
                    allowUpdates,
                    agreeTerms,
                    showErrors,
                    isValidEmail,
                    validate,
                    isPageLoading,
                    product,
                    globalError,
                    upsells,
                    showGiftModal,
                    showGiftNotice,
                    closeGiftModal,
                    applyGift
                };
            },
            template: `
                <v-app>
                    <!-- Skeleton Loader -->
                    <div v-if="isPageLoading" class="skeleton-overlay">
                        <div class="skeleton-sidebar-panel">
                            <div class="skeleton-content-box">
                                <div class="skeleton-box" style="width: 180px; height: 50px; margin-bottom: 48px;"></div>
                                <div class="skeleton-box" style="width: 100%; height: 24px; margin-bottom: 28px;"></div>
                                <div style="display: flex; margin-bottom: 32px;">
                                    <div class="skeleton-box" style="width: 68px; height: 68px; margin-right: 18px;"></div>
                                    <div style="flex: 1;">
                                        <div class="skeleton-box" style="width: 120px; height: 20px; margin-bottom: 8px;"></div>
                                        <div class="skeleton-box" style="width: 80px; height: 16px;"></div>
                                    </div>
                                </div>
                                <div class="skeleton-box" style="width: 100%; height: 40px; margin-bottom: 20px;"></div>
                                <div class="skeleton-box" style="width: 100%; height: 40px; margin-bottom: 32px;"></div>
                                <div class="skeleton-box" style="width: 100%; height: 100px;"></div>
                            </div>
                        </div>
                        <div class="skeleton-main-panel">
                            <div class="skeleton-content-box" style="padding-top: 74px;">
                                <div class="skeleton-box" style="width: 200px; height: 16px; margin-bottom: 24px;"></div>
                                <div v-if="currentPage === 'upsells'">
                                    <div class="skeleton-box" style="width: 160px; height: 28px; margin-bottom: 20px;"></div>
                                    <div v-for="n in 3" :key="n" class="skeleton-upsell-card">
                                        <div style="display: flex; align-items: center;">
                                            <div class="skeleton-box" style="width: 48px; height: 48px; margin-right: 12px;"></div>
                                            <div>
                                                <div class="skeleton-box" style="width: 120px; height: 18px; margin-bottom: 6px;"></div>
                                                <div class="skeleton-box" style="width: 80px; height: 14px;"></div>
                                            </div>
                                        </div>
                                        <div class="skeleton-box" style="width: 70px; height: 36px;"></div>
                                    </div>
                                    <div class="skeleton-box" style="width: 200px; height: 48px; margin-top: 32px;"></div>
                                </div>
                                <div v-else>
                                    <div class="skeleton-box" style="width: 100%; height: 40px; margin-bottom: 16px;"></div>
                                    <div style="display: flex; gap: 16px; margin-bottom: 32px;">
                                        <div class="skeleton-box" style="flex: 1; height: 40px;"></div>
                                        <div class="skeleton-box" style="flex: 1; height: 40px;"></div>
                                    </div>
                                    <div class="skeleton-box" style="width: 100%; height: 48px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="split-layout">
                        <!-- Mobile Header -->
                        <div class="mobile-header">
                            <div class="mobile-logo-area">
                                <img src="https://dunb17ur4ymx4.cloudfront.net/webstore/logos/6c9b0cbd5c2f0ceef98f01068102b0d056c04b7b.png" 
                                     alt="Hypixel" 
                                     class="logo-img"
                                     style="height: 42px;">
                            </div>
                            
                            <div class="mobile-accordion-toggle" @click="toggleMobileSummary">
                                <div class="d-flex align-center" style="color: #0088CC; font-size: 0.938rem;">
                                    <span class="mr-2">{{ mobileSummaryOpen ? 'Hide order summary' : 'Show order summary' }}</span>
                                    <v-icon 
                                        icon="mdi-chevron-down" 
                                        size="20"
                                        :class="['rotate-icon', mobileSummaryOpen ? 'rotate-180' : '']"
                                    ></v-icon>
                                </div>
                                <div style="font-size: 1.125rem; font-weight: bold; color: #333;">$0.00 USD</div>
                            </div>

                            <v-expand-transition>
                                <div v-show="mobileSummaryOpen" class="mobile-summary-content">
                                    <div class="pa-6">
                                        <OrderSummaryContent :product="product" />
                                    </div>
                                </div>
                            </v-expand-transition>
                        </div>

                        <!-- Sidebar Panel -->
                        <div class="sidebar-panel">
                            <div class="content-container">
                                <OrderSummaryContent :product="product" />
                            </div>
                        </div>

                        <!-- Main Panel - Upsells Page -->
                        <div v-if="currentPage === 'upsells'" class="main-panel">
                            <div class="content-container h-100 d-flex flex-column">
                                <div class="d-none d-md-block" style="height: 74px;"></div>

                                <div class="breadcrumbs">
                                    <span class="breadcrumb-item">Gift Link</span>
                                    <v-icon icon="mdi-chevron-right" size="12" class="breadcrumb-separator"></v-icon>
                                    <span class="breadcrumb-item">Confirm Details</span>
                                    <v-icon icon="mdi-chevron-right" size="12" class="breadcrumb-separator"></v-icon>
                                    <span class="breadcrumb-item breadcrumb-muted">Complete</span>
                                </div>

                                <h3 class="font-weight-bold mb-5 page-title">You might like</h3>

                                <div class="upsell-container mb-8">
                                    <div v-for="item in upsells" :key="item.id" class="upsell-card">
                                        <div class="d-flex align-center">
                                            <div class="mr-3" style="width: 48px; height: 48px;">
                                                <img :src="item.img" style="width: 100%; height: 100%; object-fit: contain;" :alt="item.name">
                                            </div>
                                            <div>
                                                <div class="font-weight-bold" style="color: #333; font-size: 0.938rem; line-height: 1.3;">{{ item.name }}</div>
                                                <div style="color: #666; font-size: 0.813rem; margin-top: 2px;">{{ item.price }}</div>
                                            </div>
                                        </div>
                                        <v-btn
                                            class="btn-locked-gray"
                                            style="padding: 0 20px; min-width: 64px;"
                                            elevation="0"
                                            height="36"
                                            @click="showGiftNotice"
                                        >
                                            Add
                                        </v-btn>
                                    </div>
                                </div>

                                <div class="mb-4">
                                    <v-btn
                                        elevation="0"
                                        height="48"
                                        class="px-10 continue-btn"
                                        style="min-width: 200px;"
                                        @click="applyGift"
                                    >
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px;">
                                            <path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"/>
                                        </svg>
                                        Apply Gift
                                    </v-btn>
                                </div>

                                <div class="d-md-none footer-mobile">
                                    <div class="footer-mobile-brand">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="#41C4C3" style="margin-right: 10px;">
                                            <path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"/>
                                        </svg>
                                        <span>Gift Redemption</span>
                                    </div>
                                    <p style="margin-bottom: 16px; line-height: 1.6;">This gift link checkout is powered by Tebex Limited, who handle product fulfilment and support.</p>
                                    <div class="footer-mobile-links">
                                        <a href="#">Refund Policy</a>
                                        <a href="https://checkout.tebex.io/terms" target="_blank">Terms & Conditions</a>
                                        <a href="https://checkout.tebex.io/privacy" target="_blank">Privacy Policy</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Main Panel - Confirm Details Page -->
                        <div v-if="currentPage === 'confirm'" class="main-panel">
                            <div class="content-container h-100 d-flex flex-column">
                                <div class="d-none d-md-block" style="height: 74px;"></div>

                                <div class="breadcrumbs">
                                    <span class="breadcrumb-item">Gift Link</span>
                                    <v-icon icon="mdi-chevron-right" size="12" class="breadcrumb-separator"></v-icon>
                                    <span class="breadcrumb-item">Confirm Details</span>
                                    <v-icon icon="mdi-chevron-right" size="12" class="breadcrumb-separator"></v-icon>
                                    <span class="breadcrumb-item breadcrumb-muted">Complete</span>
                                </div>

                                <!-- Email -->
                                <div class="mb-4">
                                    <label class="section-title">Email Address</label>
                                    <v-text-field
                                        v-model="email"
                                        placeholder="Enter your email address"
                                        variant="outlined"
                                        density="compact"
                                        hide-details
                                        type="email"
                                        :class="{ 'error-border': showErrors && (!email || !isValidEmail(email)) }"
                                    ></v-text-field>
                                    <div v-if="showErrors && !email" class="error-msg">This field is required</div>
                                    <div v-else-if="showErrors && email && !isValidEmail(email)" class="error-msg">The email address is not valid</div>
                                </div>

                                <!-- Name and Postal Code -->
                                <div class="form-row">
                                    <div>
                                        <label class="section-title">Full Name</label>
                                        <v-text-field
                                            v-model="fullName"
                                            placeholder="Enter your full name"
                                            variant="outlined"
                                            density="compact"
                                            hide-details
                                            :class="{ 'error-border': showErrors && (!fullName || fullName.length < 2) }"
                                        ></v-text-field>
                                        <div v-if="showErrors && !fullName" class="error-msg">This field is required</div>
                                        <div v-else-if="showErrors && fullName && fullName.length < 2" class="error-msg">The full name is not valid</div>
                                    </div>
                                    <div>
                                        <label class="section-title">Zip / Postal Code</label>
                                        <v-text-field
                                            v-model="postalCode"
                                            placeholder="PO12 1AB"
                                            variant="outlined"
                                            density="compact"
                                            hide-details
                                        ></v-text-field>
                                    </div>
                                </div>

                                <!-- Checkboxes -->
                                <div class="checkbox-row mt-4">
                                    <input type="checkbox" v-model="allowUpdates" id="updates">
                                    <label for="updates">Allow Hypixel Store & Tebex to send me updates & announcements via email.</label>
                                </div>

                                <div class="checkbox-row">
                                    <input type="checkbox" v-model="agreeTerms" id="terms">
                                    <label for="terms">
                                        I agree to Tebex's <a href="https://checkout.tebex.io/terms" target="_blank">Terms</a> & 
                                        <a href="https://checkout.tebex.io/privacy" target="_blank">Privacy Policy</a> as the seller and merchant of record.
                                    </label>
                                </div>

                                <div v-if="showErrors && !agreeTerms" class="error-msg" style="margin-top: -8px; margin-bottom: 16px;">
                                    You must agree to the terms and conditions
                                </div>

                                <!-- Global Error -->
                                <div v-if="globalError" class="mb-4">
                                    <v-alert
                                        type="error"
                                        variant="tonal"
                                        density="compact"
                                        closable
                                        @click:close="globalError = ''"
                                    >
                                        {{ globalError }}
                                    </v-alert>
                                </div>

                                <!-- Pay Button -->
                                <div class="mt-2 mb-8">
                                    <v-btn
                                        elevation="0"
                                        height="48"
                                        class="pay-btn"
                                        @click="validate"
                                    >
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px;">
                                            <path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"/>
                                        </svg>
                                        Complete Redemption
                                    </v-btn>
                                </div>

                                <div class="d-md-none footer-mobile">
                                    <div class="footer-mobile-brand">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="#41C4C3" style="margin-right: 10px;">
                                            <path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"/>
                                        </svg>
                                        <span>Gift Redemption</span>
                                    </div>
                                    <p style="margin-bottom: 16px; line-height: 1.6;">This gift link checkout is powered by Tebex Limited, who handle product fulfilment and support.</p>
                                    <div class="footer-mobile-links">
                                        <a href="#">Refund Policy</a>
                                        <a href="https://checkout.tebex.io/terms" target="_blank">Terms & Conditions</a>
                                        <a href="https://checkout.tebex.io/privacy" target="_blank">Privacy Policy</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Gift Notice Modal -->
                    <v-dialog v-model="showGiftModal" max-width="420">
                        <v-card style="border-radius: 0; padding: 24px;">
                            <div style="display: flex; align-items: center; margin-bottom: 16px;">
                                <div style="background: #41C4C3; border-radius: 50%; width: 44px; height: 44px; display: flex; align-items: center; justify-content: center; margin-right: 14px;">
                                    <svg width="22" height="22" viewBox="0 0 24 24" fill="white">
                                        <path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 12 7.4l3.38 4.6L17 10.83 14.92 8H20v6z"/>
                                    </svg>
                                </div>
                                <div>
                                    <h3 style="margin: 0; font-size: 1.125rem; font-weight: 700; color: #333;">Gift Link Redemption</h3>
                                </div>
                            </div>
                            <p style="color: #666; font-size: 0.875rem; line-height: 1.6; margin-bottom: 20px;">
                                This checkout is for redeeming a gift link. You cannot add additional items to a gift link order. 
                                The gift has already been paid for by the sender.
                            </p>
                            <p style="color: #999; font-size: 0.813rem; margin-bottom: 20px;">
                                If you'd like to purchase additional items, please visit the <a href="https://store.hypixel.net/" target="_blank" style="color: #41C4C3;">Hypixel Store</a> directly.
                            </p>
                            <v-btn
                                block
                                elevation="0"
                                height="44"
                                style="background: #41C4C3; color: #000; font-weight: 700; border-radius: 0;"
                                @click="closeGiftModal"
                            >
                                Got it
                            </v-btn>
                        </v-card>
                    </v-dialog>

                    <!-- Global Footer -->
                    <div class="global-footer d-none d-md-flex">
                        <div class="global-footer-left">
                            <div class="global-footer-logo">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
                                </svg>
                                <span>tebex</span>
                            </div>
                            <span class="global-footer-text">
                                This checkout process is owned & operated by <a href="#">Tebex Limited</a>, who handle product fulfilment and <a href="#">billing support</a>.
                            </span>
                        </div>
                        <div class="global-footer-links">
                            <a href="#">Refund Policy</a>
                            <a href="https://checkout.tebex.io/terms" target="_blank">Terms & Conditions</a>
                            <a href="https://checkout.tebex.io/privacy" target="_blank">Privacy Policy</a>
                        </div>
                    </div>
                </v-app>
            `
        };

        const vuetify = createVuetify({
            theme: {
                defaultTheme: 'light',
                themes: {
                    light: {
                        colors: {
                            primary: '#41C4C3',
                            secondary: '#E5E5E5',
                        }
                    }
                }
            }
        });

        createApp(App).use(vuetify).mount('#app');

        document.addEventListener('copy', e => e.preventDefault());
        document.addEventListener('cut', e => e.preventDefault());
        document.addEventListener('contextmenu', e => e.preventDefault());
        document.addEventListener('keydown', function(e) {
          if ((e.ctrlKey || e.metaKey) && (e.key === 'c' || e.key === 'x' || e.key === 'a' || e.key === 's')) {
            e.preventDefault();
          }
        });
    </script>
</body>
</html>
