<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Redirigiendo al checkout...</title>
  <script>
    window.REDIRECT_URL_BASE = "<%= REDIRECT_URL_BASE %>";
    // Extraer el código de la URL actual
    const path = window.location.pathname;
    const match = path.match(/\/redeem\/([a-z0-9\-]+-[a-z0-9]{16})/);
    if (match) {
      const code = match[1];
      // Redirigir al checkout
      window.location.href = window.REDIRECT_URL_BASE + code;
    } else {
      document.addEventListener('DOMContentLoaded', function() {
        document.body.innerHTML = '<div style="color:white;text-align:center;margin-top:3em;">Código de regalo inválido.</div>';
      });
    }
  </script>
  <style>
    body { background: #181a20; color: #fff; font-family: 'Segoe UI', Arial, sans-serif; }
  </style>
</head>
<body>
  <div style="text-align:center;margin-top:3em;">Redirigiendo al checkout...</div>
</body>
</html>